var assert = require("assert");
var cronarray = require("../index");

var corrPatternArray = {
    "minute": ["1", "0", "4", "6", "8", "10", "12", "14", "16", "18", "20", "22", "24", "26", "28", "30", "32", "34", "36", "38", "40", "42", "44", "46", "48", "50", "52", "54", "56", "58"],
    "hour": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23"],
    "day": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"],
    "month": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
    "weekday": ["1", "2", "3", "4", "5", "6", "7"],
    "second": ["0"]
};


var errPatternArray = {
    "minute": ["90", "0", "4", "6", "8", "10", "12", "14", "16", "18", "20", "22", "24", "26", "28", "30", "32", "34", "36", "38", "40", "42", "44", "46", "48", "50", "52", "54", "56", "58"],
    "hour": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23"],
    "day": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"],
    "month": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
    "weekday": ["1", "2", "3", "4", "5", "6", "7"],
    "second": ["0"]
};

describe('Node cron array', function() {

    it('should return pattern string for a valid array.', function(done) {
        try {
            cronarray.arrayToPattern(corrPatternArray);
            done();
        } catch (e) {
            done(e);
        }
    });

    it('should throw an error for invalid format.', function(done) {
        try {
            cronarray.arrayToPattern(errPatternArray);
            done(new Error('shoud not print this.'))
        }catch(e){
        	console.log(e);
        	done();
        }
    })

})
